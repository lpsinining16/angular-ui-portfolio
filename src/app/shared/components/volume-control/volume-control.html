<!-- 
  REFINEMENT & ACCESSIBILITY:
  - A single host container with (mouseenter) and (mouseleave) simplifies hover logic.
  - The button now has a clear `aria-label` describing its function.
  - The range slider has an `aria-label` for screen readers.
  - Icons are marked with `aria-hidden` as they are decorative.
  - Using `@switch` for icon state is cleaner than multiple `@if` blocks.
-->
<div class="volume-control-container" (mouseenter)="onMouseEnter()" (mouseleave)="onMouseLeave()">

  <!-- Mute/Unmute Button -->
  <button type="button" (click)="toggleMute()" class="volume-icon-btn" aria-label="Toggle sound mute">
    @switch (true) {
    @case (soundService.isMuted() || soundService.volume() === 0) {
    <i class="bx bx-volume-mute text-xl" aria-hidden="true"></i>
    }
    @default {
    <i class="bx bx-volume-full text-xl" aria-hidden="true"></i>
    }
    }
  </button>

  <!-- Volume Slider -->
  <div class="volume-slider-wrapper">
    <input type="range" min="0" max="1" step="0.01" aria-label="Volume control" [ngModel]="soundService.volume()"
      (ngModelChange)="onVolumeChange($event)" (mousedown)="onDragStart()" (mouseup)="onDragEnd()"
      (touchstart)="onDragStart()" (touchend)="onDragEnd()" class="volume-slider" />
  </div>
</div>